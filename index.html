<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cardano Text Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>Cardano Text Explorer</h1>
      <p>Fetch the latest transactions and surface any metadata text embedded on-chain.</p>
      <div class="badge-row">
        <span class="badge">Blockfrost API</span>
        <span class="badge">Mobileâ€‘first</span>
        <span class="badge">Live chain data</span>
      </div>
    </header>

    <section class="panel">
      <div class="panel-title">Connection</div>
      <div class="form-row">
        <div class="field">
          <label for="network">Network</label>
          <select id="network">
            <option value="mainnet">Mainnet</option>
            <!--<option value="preprod">Preprod</option>-->
            <option value="preview">Preview</option>
          </select>
        </div>
        <div class="field">
          <label for="labelFilter">Metadata Label (optional)</label>
          <input
            id="labelFilter"
            type="text"
            placeholder="e.g. 674, 1990, myLabel"
            autocomplete="off"
          />
        </div>
        <div class="field">
          <label for="limit">Tx count (latest)</label>
          <input id="limit" type="number" min="1" max="20" value="20" />
        </div>
      </div>
      <div class="actions">
        <button id="fetchBtn">
          <span>Search</span>
        </button>

        <div class="field" style="margin-top:12px;">
          <label>
            <input type="checkbox" id="liveToggle" />
            Enable Live Updates
          </label>
        </div>

        <div class="field" style="margin-top:12px;">
          <label>
            <input type="checkbox" id="tailToggle" />
            Auto-scroll to newest results
          </label>
        </div>
      </div>
      <div id="status" class="status"></div>
    </section>

    <section class="panel">
      <div class="panel" style="margin-top:12px;">
        <div class="panel-title">View Options</div>
        <div class="actions" style="gap:12px; flex-wrap:wrap;">
          <button id="viewCardsBtn">Card View</button>
          <button id="viewUniqueBtn">Unique Metadata</button>
        </div>
      </div>

      <!-- Unique metadata textarea (hidden by default) -->
      <div id="uniqueContainer" class="panel" style="display:none;">
        <div class="panel-title">Unique Metadata</div>
        <textarea id="uniqueText" style="
          width:100%;
          height:200px;
          border-radius:12px;
          padding:10px;
          background:#0f172a;
          color:#e5e7eb;
          border:1px solid rgba(148,163,184,0.4);
          font-size:0.8rem;
          white-space:pre-wrap;
        "></textarea>
      </div>

      <div class="results-header">
        <h2>Results</h2>
        <span id="summary">No data yet.</span>
      </div>
      <div id="results" class="result-list"></div>
      <button id="loadMoreBtn" style="margin-top:10px; display:none;">
        Load More
      </button>
    </section>
  </div>

  <footer>
    <a href="https://github.com/primaryobjects/cardano-text-explorer" target="_blank" rel="noopener noreferrer">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
        <path fill-rule="evenodd" d="M8 0C3.69 0 0 3.69 0 8c0 3.42 2.23 6.33 5.33 7.36.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.05.45-2.64-.48-2.64-.48C1.22 13.52 1 13.1 1 12.9c0 .52.37 1.12.58 1.58.56.16 1.84 2.21 2.12 1.66.06-.46.28-.81.55-1 .49-.15 1.56-1.69 2.32-1.79.87-.1 1.77.31 2.17.48.61 1.43 2.64 1.09 3.5 1.1.84.01 1.68-.18 2.42-.52.73-.33 1.63-.92 2.05-1.76.08-.14.15-.31.21-.5.09-.23.14-.5.14-.77 0-.19 0-.37-.01-.56C14.34 8.88 16 6.42 16 8c0 4.31-3.69 8-8 8-.92 0-1.81-.1-2.66-.32" clip-rule="evenodd"/>
      </svg>
      <span>View on GitHub</span>
    </a>
  </footer>
</body>
</html>
