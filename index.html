<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cardano Text Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <!-- Font Awesome for GitHub brand icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>Cardano Text Explorer</h1>
      <p>Fetch the latest transactions and surface any metadata text embedded on-chain.</p>
      <div class="badge-row">
        <span class="badge">Blockfrost API</span>
        <span class="badge">Mobileâ€‘first</span>
        <span class="badge">Live chain data</span>
      </div>
    </header>

    <section class="panel">
      <div class="panel-title">Connection</div>
      <div class="form-row">
        <div class="field">
          <label for="network">Network</label>
          <select id="network">
            <option value="mainnet">Mainnet</option>
            <!--<option value="preprod">Preprod</option>-->
            <option value="preview">Preview</option>
          </select>
        </div>
        <div class="field">
          <label for="labelFilter">Metadata Label (optional)</label>
          <input
            id="labelFilter"
            type="text"
            placeholder="e.g. 674, 1990, myLabel"
            autocomplete="off"
          />
        </div>
        <div class="field">
          <label for="limit">Tx count (latest)</label>
          <input id="limit" type="number" min="1" max="20" value="20" />
        </div>
      </div>
      <div class="actions">
        <button id="fetchBtn">
          <span>Search</span>
        </button>

        <div class="field" style="margin-top:12px;">
          <label>
            <input type="checkbox" id="liveToggle" />
            Enable Live Updates
          </label>
        </div>

        <div class="field" style="margin-top:12px;">
          <label>
            <input type="checkbox" id="tailToggle" />
            Auto-scroll to newest results
          </label>
        </div>
      </div>
      <div id="status" class="status"></div>
    </section>

    <section class="panel">
      <div class="panel" style="margin-top:12px;">
        <div class="panel-title">View Options</div>
        <div class="actions" style="gap:12px; flex-wrap:wrap;">
          <button id="viewCardsBtn">Card View</button>
          <button id="viewUniqueBtn">Unique Metadata</button>
        </div>
      </div>

      <!-- Unique metadata textarea (hidden by default) -->
      <div id="uniqueContainer" class="panel" style="display:none;">
        <div class="panel-title">Unique Metadata</div>
        <textarea id="uniqueText" style="
          width:100%;
          height:200px;
          border-radius:12px;
          padding:10px;
          background:#0f172a;
          color:#e5e7eb;
          border:1px solid rgba(148,163,184,0.4);
          font-size:0.8rem;
          white-space:pre-wrap;
        "></textarea>
      </div>

      <div class="results-header">
        <h2>Results</h2>
        <span id="summary">No data yet.</span>
      </div>
      <div id="results" class="result-list"></div>
      <button id="loadMoreBtn" style="margin-top:10px; display:none;">
        Load More
      </button>
    </section>

    <!-- Sticky GitHub link fixed to viewport bottom-right -->
    <a class="github-sticky" href="https://github.com/primaryobjects/cardano-text-explorer" target="_blank" rel="noopener noreferrer" aria-label="View on GitHub">
      <i class="fa-brands fa-github" aria-hidden="true"></i>
      <span>View on GitHub</span>
    </a>

  </div>

  <script src="script.js" defer></script>
</body>
</html>
